<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asistencia - Colegio Manager</title>
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css' rel='stylesheet' />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
     <!-- Bootstrap CSS -->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
     <!-- Bootstrap Icons -->
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/locales/es.min.js'></script>
    <link rel="stylesheet" href="assets/css/estilos.css">
</head>
<body>
    <button class="menu-hamburguesa btn btn-light shadow-sm">
        <span class="material-icons">menu</span>
    </button>
    
    <div class="dashboard-container">
        <!-- Barra Lateral -->
        <aside class="sidebar bg-dark text-white vh-100 position-fixed" style="width: 250px;">
            <div class="p-3">
                <div class="user-info text-center mb-4">
                    <h2 class="h5" id="student-name">Cargando...</h2>
                    <p class="text-muted small" id="student-id"></p>
                </div>
                
                <nav class="nav flex-column">
                    <a href="dashboard.html" class="nav-link text-white d-flex align-items-center">
                        <i class="bi bi-house-door me-2"></i>
                        Inicio
                    </a>
                    <a href="cursos.html" class="nav-link text-white d-flex align-items-center">
                        <i class="bi bi-book me-2"></i>
                        Cursos
                    </a>
                    <a href="calificaciones.html" class="nav-link text-white d-flex align-items-center">
                        <i class="bi bi-graph-up me-2"></i>
                        Calificaciones
                    </a>
                    <a href="asistencia.html" class="nav-link text-white d-flex align-items-center">
                        <i class="bi bi-calendar-check me-2"></i>
                        Asistencia
                    </a>
                    <a href="tareas.html" class="nav-link text-white d-flex align-items-center">
                        <i class="bi bi-files me-2"></i>
                        Tareas
                    </a>
                </nav>
                <!-- Botón para cerrar menú -->
                <div class="cerrar-menu d-lg-none">
                    <span class="material-icons text-white">close</span>
                </div>
            </div>
        </aside>
        
            <div class="main-content">
                <header class="content-header">
                    <h1>Registro de Asistencia</h1>
                    <div class="header-controls">
                        <button class="btn-icon" id="prev-month">
                            <span class="material-icons">chevron_left</span>
                        </button>
                        <h2 id="current-month"></h2>
                        <button class="btn-icon" id="next-month">
                            <span class="material-icons">chevron_right</span>
                        </button>
                    </div>
                    <div class="stats-box">
                        <div class="stat-item">
                            <span class="material-icons">check_circle</span>
                            <div>
                                <h3>Asistencia Mensual</h3>
                                <div class="stat-value" id="porcentaje-asistencia">92%</div>
                            </div>
                        </div>
                        <div class="stat-item">
                            <span class="material-icons">cancel</span>
                            <div>
                                <h3>Faltas Totales</h3>
                                <div class="stat-value" id="total-faltas">2</div>
                            </div>
                        </div>
                    </div>
                </header>
                
                <div class="asistencia-container">
                    <div class="calendario-container" id="calendario"></div>
                    <div class="detalle-asistencia">
                        <h3>Detalle de Faltas <span id="fecha-seleccionada"></span></h3>
                        <div class="faltas-list" id="lista-faltas"></div>
                        <button class="btn-primary" id="btn-justificar">
                            <span class="material-icons">description</span> Justificar Falta
                        </button>
                    </div>
                </div>
            
                <!-- Modal de Justificación -->
                <div id="justificarModal" class="modal">
                    <div class="modal-content">
                        <span class="close-modal">&times;</span>
                        <h2><span class="material-icons">edit</span> Justificar Ausencia</h2>
                        <form id="formJustificacion">
                            <div class="form-group">
                                <label>Fecha:</label>
                                <input type="date" id="fecha-falta" required>
                            </div>
                            <div class="form-group">
                                <label>Motivo:</label>
                                <textarea id="motivo-justificacion" rows="4" required></textarea>
                            </div>
                            <div class="form-group">
                                <label>Adjuntar comprobante:</label>
                                <input type="file" id="comprobante" accept=".pdf,.jpg,.png">
                            </div>
                            <button type="submit" class="btn-submit">
                                <span class="material-icons">send</span> Enviar Justificación
                            </button>
                        </form>
                    </div>
                </div>
            </div>

    <script src="assets/js/asistencia.js"></script>
    <script src="assets/js/common.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>